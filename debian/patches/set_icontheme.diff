From: Maximiliano Curia <maxy@gnuservers.com.ar>
Date: Sun May 29 18:21:52 2016 +0200
Subject: Set the icontheme for the unit_tests

Currently kpimtextedit uses media-playback-stop icons that are not
available in the hicolor icontheme (which is the default one for the
unit tests environment).

---
 src/texttospeech/autotests/texttospeechactionstest.cpp | 1 +
 src/texttospeech/autotests/texttospeechwidgettest.cpp  | 1 +
 2 files changed, 2 insertions(+)

--- a/src/texttospeech/autotests/texttospeechactionstest.cpp
+++ b/src/texttospeech/autotests/texttospeechactionstest.cpp
@@ -27,6 +27,7 @@
     : QObject(parent)
 {
     qRegisterMetaType<KPIMTextEdit::TextToSpeechWidget::State>();
+    QIcon::setThemeName(QStringLiteral("breeze"));
 }
 
 TextToSpeechActionsTest::~TextToSpeechActionsTest()
--- a/src/texttospeech/autotests/texttospeechwidgettest.cpp
+++ b/src/texttospeech/autotests/texttospeechwidgettest.cpp
@@ -30,6 +30,7 @@
     : QObject(parent)
 {
     qRegisterMetaType<KPIMTextEdit::TextToSpeechWidget::State>();
+    QIcon::setThemeName(QStringLiteral("breeze"));
 }
 
 void TextToSpeechWidgetTest::addInterface(KPIMTextEdit::TextToSpeechWidget *widget)
--- a/src/composer-ng/autotests/richtextcomposertest.cpp
+++ b/src/composer-ng/autotests/richtextcomposertest.cpp
@@ -41,6 +41,7 @@
     : QObject(parent)
 {
     qRegisterMetaType<KPIMTextEdit::RichTextComposer::Mode>();
+    QIcon::setThemeName(QStringLiteral("breeze"));
 }
 
 RichTextComposerTest::~RichTextComposerTest()

From: Maximiliano Curia <maxy@gnuservers.com.ar>
Date: Sun May 29 18:21:52 2016 +0200
Subject: Set the icontheme for the unit_tests

Currently kpimtextedit uses media-playback-stop icons that are not
available in the hicolor icontheme (which is the default one for the
unit tests environment).

---
 src/texttospeech/autotests/texttospeechactionstest.cpp | 1 +
 src/texttospeech/autotests/texttospeechwidgettest.cpp  | 1 +
 2 files changed, 2 insertions(+)

diff --git a/src/texttospeech/autotests/texttospeechactionstest.cpp b/src/texttospeech/autotests/texttospeechactionstest.cpp
index ab14c62..a5578ca 100644
--- a/src/texttospeech/autotests/texttospeechactionstest.cpp
+++ b/src/texttospeech/autotests/texttospeechactionstest.cpp
@@ -27,6 +27,7 @@ TextToSpeechActionsTest::TextToSpeechActionsTest(QObject *parent)
     : QObject(parent)
 {
     qRegisterMetaType<KPIMTextEdit::TextToSpeechWidget::State>();
+    QIcon::setThemeName(QStringLiteral("breeze"));
 }
 
 TextToSpeechActionsTest::~TextToSpeechActionsTest()
diff --git a/src/texttospeech/autotests/texttospeechwidgettest.cpp b/src/texttospeech/autotests/texttospeechwidgettest.cpp
index 0ee53fc..401e5eb 100644
--- a/src/texttospeech/autotests/texttospeechwidgettest.cpp
+++ b/src/texttospeech/autotests/texttospeechwidgettest.cpp
@@ -30,6 +30,7 @@ TextToSpeechWidgetTest::TextToSpeechWidgetTest(QObject *parent)
     : QObject(parent)
 {
     qRegisterMetaType<KPIMTextEdit::TextToSpeechWidget::State>();
+    QIcon::setThemeName(QStringLiteral("breeze"));
 }
 
 void TextToSpeechWidgetTest::addInterface(KPIMTextEdit::TextToSpeechWidget *widget)
